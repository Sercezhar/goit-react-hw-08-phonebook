"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[795],{3418:function(e,t,n){n.d(t,{$:function(){return s}});var a="Section_Title__FKTo0",r=n(3329);function s(e){var t=e.tag,n=e.title,s=e.children,c="".concat(t);return(0,r.jsxs)("section",{children:[n&&(0,r.jsx)(c,{className:a,children:n}),s]})}},9876:function(e,t,n){n.d(t,{H:function(){return s}});var a="SectionsWrapper_Container__dfvdv",r=n(3329);function s(e){var t=e.children;return(0,r.jsx)("div",{className:a,children:t})}},6795:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var a=n(9876),r=n(3418),s=n(9434),c=n(6052),o=n(1538);function i(){var e=(0,s.I0)(),t=(0,s.v9)((function(e){return e.contacts.entities})),n=(0,s.v9)((function(e){return e.contacts.filter})),a=(0,s.v9)((function(e){return e.contacts.status}));return{dispatch:e,contacts:t,filter:n,status:a,addContact:function(t){return e((0,c.uK)(t))},deleteContact:function(t){return e((0,c.GK)(t))},setFilter:function(t){return e((0,o.T)(t))}}}var l=n(1413),u=n(5861),m=n(7757),d=n.n(m),h=n(1134),p=n(1265),f=n(4386),_=n(9085),x=n(4403),b=n(3329),v=f.Ry().shape({name:f.Z_().required(),number:f.Z_().required().min(8).max(16)});function j(){var e=i(),t=e.contacts,n=e.addContact,a=(0,h.cI)({resolver:(0,p.X)(v)}),r=a.register,s=a.handleSubmit,c=a.reset,o=a.formState.errors,m=function(){var e=(0,u.Z)(d().mark((function e(a){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.some((function(e){return e.name.toLowerCase()===a.name.toLowerCase()})),e.prev=1,!r){e.next=6;break}_.Am.error("".concat(a.name.toUpperCase()," is already in contacts.")),e.next=9;break;case 6:return e.next=8,n(a);case 8:_.Am.success("".concat(a.name.toUpperCase()," is added to contacts."));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:c();case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return(0,b.jsxs)("form",{className:x.Z.Form,autoComplete:"off",onSubmit:s(m),children:[(0,b.jsxs)("label",{className:x.Z.Label,children:[(0,b.jsx)("input",(0,l.Z)((0,l.Z)({className:x.Z.Input},r("name")),{},{type:"text",placeholder:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"})),o.name&&(0,b.jsx)("p",{className:x.Z.ErrorMessage,children:o.name.message})]}),(0,b.jsxs)("label",{className:x.Z.Label,children:[(0,b.jsx)("input",(0,l.Z)((0,l.Z)({className:x.Z.Input},r("number")),{},{type:"tel",placeholder:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"})),o.number&&(0,b.jsx)("p",{className:x.Z.ErrorMessage,children:o.number.message})]}),(0,b.jsx)("button",{type:"submit",className:x.Z.SubmitBtn,children:"Add contact"})]})}var C=n(6856),g="ContactListItem_Item__xlh1I",N="ContactListItem_Contact__5WetT",Z="ContactListItem_Name__OCYDH",F="ContactListItem_Number__3y14D",I="ContactListItem_Icon__WcbrX",L="ContactListItem_DeleteBtn__FnG2B";function k(e){var t=e.id,n=e.name,a=e.number,r=i().deleteContact;function s(){return s=(0,u.Z)(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(t);case 3:_.Am.info("".concat(n.toUpperCase()," has been removed from contacts.")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),s.apply(this,arguments)}return(0,b.jsxs)("li",{className:g,children:[(0,b.jsxs)("span",{className:N,children:[(0,b.jsxs)("span",{className:Z,children:[(0,b.jsx)(C.Vyx,{className:I}),n]})," ",(0,b.jsxs)("span",{className:F,children:[(0,b.jsx)(C.IXo,{className:I}),a]})]}),(0,b.jsx)("button",{type:"button",className:L,onClick:function(){return function(e,t){return s.apply(this,arguments)}(t,n)},children:(0,b.jsx)(C.ZkW,{className:I})})]})}var y=n(2791);function w(){var e=i(),t=e.dispatch,n=e.contacts,a=e.filter,r=n.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())})).sort((function(e,t){return e.name.localeCompare(t.name)}));return(0,y.useEffect)((function(){t((0,c.K2)())}),[t]),(0,b.jsx)(b.Fragment,{children:n&&(0,b.jsx)("ul",{children:r.map((function(e){var t=e.id,n=e.name,a=e.number;return(0,b.jsx)(k,{id:t,name:n,number:a},t)}))})})}var A="Filter_Label__MldcW",S="Filter_Input__fqOVl";function B(){var e=i(),t=e.filter,n=e.setFilter;return(0,b.jsx)("label",{className:A,children:(0,b.jsx)("input",{className:S,type:"text",name:"filter",placeholder:"find contacts by name",value:t,onChange:function(e){var t=e.currentTarget.value;n(t)}})})}var E=n(6373),M=n(634),T="Notification_Notification__9HZmX";function W(e){var t=e.message;return(0,b.jsx)(b.Fragment,{children:t&&(0,b.jsx)("h3",{className:T,children:t})})}function D(){var e=i(),t=e.contacts,n=e.status;return(0,b.jsxs)(a.H,{children:[("deleteLoading"===n||"addLoading"===n)&&(0,b.jsx)(M.D,{}),(0,b.jsx)(r.$,{tag:"h1",title:"Phonebook",children:(0,b.jsx)(j,{})}),(0,b.jsxs)(r.$,{tag:"h2",title:"Contacts",children:["loading"===n&&0===t.length&&(0,b.jsx)(E.iT,{ariaLabel:"loading-indicator",height:30,width:30,strokeWidth:5,color:"var(--theme-color)",secondaryColor:"#ccc"}),(0,b.jsx)(b.Fragment,{children:"resolved"!==n&&"deleteResolved"!==n||0!==t.length?(0,b.jsxs)(b.Fragment,{children:[t.length>0&&(0,b.jsx)(B,{}),(0,b.jsx)(w,{})]}):(0,b.jsx)(W,{message:"No contacts added"})})]})]})}},4403:function(e,t){t.Z={Form:"ContactForm_Form__IBmOq",Label:"ContactForm_Label__ykus5",Input:"ContactForm_Input__+bOEZ",SubmitBtn:"ContactForm_SubmitBtn__IC-Dc",ErrorMessage:"ContactForm_ErrorMessage__ttuE5"}}}]);
//# sourceMappingURL=795.a7787200.chunk.js.map