"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[795],{3418:function(e,t,n){n.d(t,{$:function(){return c}});var a="Section_Title__FKTo0",r=n(3329);function c(e){var t=e.tag,n=e.title,c=e.children,s="".concat(t);return(0,r.jsxs)("section",{children:[n&&(0,r.jsx)(s,{className:a,children:n}),c]})}},9876:function(e,t,n){n.d(t,{H:function(){return c}});var a="SectionsWrapper_Container__dfvdv",r=n(3329);function c(e){var t=e.children;return(0,r.jsx)("div",{className:a,children:t})}},6795:function(e,t,n){n.r(t),n.d(t,{default:function(){return T}});var a=n(9876),r=n(3418),c=n(9434),s=n(6052),o=n(1538);function i(){var e=(0,c.I0)(),t=(0,c.v9)((function(e){return e.contacts.entities})),n=(0,c.v9)((function(e){return e.contacts.filter})),a=(0,c.v9)((function(e){return e.contacts.status}));return{dispatch:e,contacts:t,filter:n,status:a,addContact:function(t){return e((0,s.uK)(t))},deleteContact:function(t){return e((0,s.GK)(t))},setFilter:function(t){return e((0,o.T)(t))}}}var l=n(5861),u=n(885),m=n(7757),d=n.n(m),h=n(2791),f=n(9085),p=n(4403),_=n(3329);function x(){var e=i(),t=e.contacts,n=e.addContact,a=(0,h.useState)(""),r=(0,u.Z)(a,2),c=r[0],s=r[1],o=(0,h.useState)(""),m=(0,u.Z)(o,2),x=m[0],v=m[1];function b(){s(""),v("")}function C(e){var t=e.currentTarget,n=t.name,a=t.value;"name"===n&&s(a),"number"===n&&v(a)}function j(){return(j=(0,l.Z)(d().mark((function e(a){var r,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),r={name:c,number:x},s=t.some((function(e){return e.name.toLowerCase()===r.name.toLowerCase()})),e.prev=3,!s){e.next=8;break}f.Am.error("".concat(r.name.toUpperCase()," is already in contacts.")),e.next=11;break;case 8:return e.next=10,n(r);case 10:f.Am.success("".concat(r.name.toUpperCase()," is added to contacts."));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:b();case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}return(0,_.jsxs)("form",{className:p.Z.Form,autoComplete:"off",onSubmit:function(e){return j.apply(this,arguments)},children:[(0,_.jsx)("label",{className:p.Z.Label,children:(0,_.jsx)("input",{className:p.Z.Input,type:"text",name:"name",placeholder:"name",value:c,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:C})}),(0,_.jsx)("label",{className:p.Z.Label,children:(0,_.jsx)("input",{className:p.Z.Input,type:"tel",name:"number",placeholder:"number",value:x,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:C})}),(0,_.jsx)("button",{type:"submit",className:p.Z.SubmitBtn,children:"Add contact"})]})}var v=n(6856),b="ContactListItem_Item__xlh1I",C="ContactListItem_Contact__5WetT",j="ContactListItem_Name__OCYDH",g="ContactListItem_Number__3y14D",N="ContactListItem_Icon__WcbrX",F="ContactListItem_DeleteBtn__FnG2B";function I(e){var t=e.id,n=e.name,a=e.number,r=i().deleteContact;function c(){return c=(0,l.Z)(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(t);case 3:f.Am.info("".concat(n.toUpperCase()," has been removed from contacts.")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),c.apply(this,arguments)}return(0,_.jsxs)("li",{className:b,children:[(0,_.jsxs)("span",{className:C,children:[(0,_.jsxs)("span",{className:j,children:[(0,_.jsx)(v.Vyx,{className:N}),n]})," ",(0,_.jsxs)("span",{className:g,children:[(0,_.jsx)(v.IXo,{className:N}),a]})]}),(0,_.jsx)("button",{type:"button",className:F,onClick:function(){return function(e,t){return c.apply(this,arguments)}(t,n)},children:(0,_.jsx)(v.ZkW,{className:N})})]})}function L(){var e=i(),t=e.dispatch,n=e.contacts,a=e.filter,r=n.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())})).sort((function(e,t){return e.name.localeCompare(t.name)}));return(0,h.useEffect)((function(){t((0,s.K2)())}),[t]),(0,_.jsx)(_.Fragment,{children:n&&(0,_.jsx)("ul",{children:r.map((function(e){var t=e.id,n=e.name,a=e.number;return(0,_.jsx)(I,{id:t,name:n,number:a},t)}))})})}var k="Filter_Label__MldcW",y="Filter_Input__fqOVl";function Z(){var e=i(),t=e.filter,n=e.setFilter;return(0,_.jsx)("label",{className:k,children:(0,_.jsx)("input",{className:y,type:"text",name:"filter",placeholder:"find contacts by name",value:t,onChange:function(e){var t=e.currentTarget.value;n(t)}})})}var w=n(6373),A=n(634),S="Notification_Notification__9HZmX";function B(e){var t=e.message;return(0,_.jsx)(_.Fragment,{children:t&&(0,_.jsx)("h3",{className:S,children:t})})}function T(){var e=i(),t=e.contacts,n=e.status;return(0,_.jsxs)(a.H,{children:[("deleteLoading"===n||"addLoading"===n)&&(0,_.jsx)(A.D,{}),(0,_.jsx)(r.$,{tag:"h1",title:"Phonebook",children:(0,_.jsx)(x,{})}),(0,_.jsxs)(r.$,{tag:"h2",title:"Contacts",children:["loading"===n&&0===t.length&&(0,_.jsx)(w.iT,{ariaLabel:"loading-indicator",height:30,width:30,strokeWidth:5,color:"var(--theme-color)",secondaryColor:"#ccc"}),(0,_.jsx)(_.Fragment,{children:"resolved"!==n&&"deleteResolved"!==n||0!==t.length?(0,_.jsxs)(_.Fragment,{children:[t.length>0&&(0,_.jsx)(Z,{}),(0,_.jsx)(L,{})]}):(0,_.jsx)(B,{message:"No contacts added"})})]})]})}},4403:function(e,t){t.Z={Form:"ContactForm_Form__IBmOq",Label:"ContactForm_Label__ykus5",Input:"ContactForm_Input__+bOEZ",SubmitBtn:"ContactForm_SubmitBtn__IC-Dc"}}}]);
//# sourceMappingURL=795.eb16f5b8.chunk.js.map